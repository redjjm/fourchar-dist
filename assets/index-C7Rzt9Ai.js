import{r as d,a as ue,R as xe}from"./vendor-B5ZO-m6Q.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();var ie={exports:{}},P={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he=d,ge=Symbol.for("react.element"),fe=Symbol.for("react.fragment"),pe=Object.prototype.hasOwnProperty,we=he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ke={key:!0,ref:!0,__self:!0,__source:!0};function se(t,n,o){var i,r={},s=null,m=null;o!==void 0&&(s=""+o),n.key!==void 0&&(s=""+n.key),n.ref!==void 0&&(m=n.ref);for(i in n)pe.call(n,i)&&!ke.hasOwnProperty(i)&&(r[i]=n[i]);if(t&&t.defaultProps)for(i in n=t.defaultProps,n)r[i]===void 0&&(r[i]=n[i]);return{$$typeof:ge,type:t,key:s,ref:m,props:r,_owner:we.current}}P.Fragment=fe;P.jsx=se;P.jsxs=se;ie.exports=P;var e=ie.exports,J={},Y=ue;J.createRoot=Y.createRoot,J.hydrateRoot=Y.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),w=(t,n)=>{const o=d.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:m,className:v="",children:p,...g},k)=>d.createElement("svg",{ref:k,...ye,width:r,height:r,stroke:i,strokeWidth:m?Number(s)*24/Number(r):s,className:["lucide",`lucide-${be(t)}`,v].join(" "),...g},[...n.map(([a,h])=>d.createElement(a,h)),...Array.isArray(p)?p:[p]]));return o.displayName=`${t}`,o};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=w("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=w("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=w("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=w("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=w("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=w("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=w("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=w("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=w("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=w("Music3",[["circle",{cx:"12",cy:"18",r:"4",key:"m3r9ws"}],["path",{d:"M16 18V2",key:"40x2m5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=w("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=w("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=w("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=w("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=w("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=w("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=w("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var x=(t=>(t.CORRECT="correct",t.WRONG="wrong",t.SCORE_20="score-20",t.SCORE_40="score-40",t.SCORE_80="score-80",t.SCORE_100="score-100",t.COLLECT_COIN="collect-coin",t.BG_1="bg-1",t))(x||{});const ae="soundSettings",E={[x.CORRECT]:"./sound/correct.mp3",[x.WRONG]:"./sound/wrong.mp3",[x.SCORE_20]:"./sound/score-20.mp3",[x.SCORE_40]:"./sound/score-40.mp3",[x.SCORE_80]:"./sound/score-80.mp3",[x.SCORE_100]:"./sound/score-100.mp3",[x.COLLECT_COIN]:"./sound/collect-coin.mp3",[x.BG_1]:"./sound/bg-1.mp3"},H={};let l=null;const Ae={bgSound:!0,effectSound:!0},_=()=>{try{const t=localStorage.getItem(ae);if(t)return JSON.parse(t)}catch(t){console.error("사운드 설정 로드 오류:",t)}return Ae},le=t=>{try{localStorage.setItem(ae,JSON.stringify(t))}catch(n){console.error("사운드 설정 저장 오류:",n)}},$e=()=>{_(),console.log("사운드 사전 로드 시작"),Object.entries(E).forEach(([t,n])=>{try{if(console.log(`사운드 로드 시도: ${t} - 경로: ${n}`),t===x.BG_1){console.log("배경음악 초기 로드");const o=new Audio(n);o.preload="auto",o.loop=!0,o.volume=.5,H[t]=o}else{const o=new Audio(n);o.preload="auto",H[t]=o,console.log(`사운드 캐싱 완료: ${t}`)}}catch(o){console.error(`사운드 로드 오류 (${t}): ${o.message}`,o)}}),console.log("사운드 사전 로드 완료")},C=(t,n=1)=>{const o=_();if(console.log(`사운드 재생 시도: ${t}`),!o.effectSound&&t!==x.BG_1){console.log("이펙트 사운드가 꺼져 있어 재생하지 않음");return}try{if(!H[t]){console.log(`캐시에 없어 새로 로드: ${t} - 경로: ${E[t]}`);const r=new Audio(E[t]);H[t]=r}const i=H[t];i.pause(),i.currentTime=0,i.volume=n,console.log(`사운드 재생 시작: ${t}`),i.play().catch(r=>{console.error(`사운드 재생 오류 (${t}): ${r.message}`,r)})}catch(i){console.error(`사운드 재생 중 오류 발생 (${t}): ${i.message}`,i)}},He=t=>{t<=20?C(x.SCORE_20):t<=40?C(x.SCORE_40):t<=80?C(x.SCORE_80):C(x.SCORE_100)},te=()=>{const t=_();if(console.log("배경음악 재생 함수 호출됨"),!t.bgSound){console.log("배경음악 설정이 꺼져있어 재생하지 않음");return}try{let n=function(r){if(l=new Audio(r),l.loop=!0,l.volume=.5,l.addEventListener("ended",()=>{console.log("배경음악 재시작 (ended 이벤트)"),l&&(l.currentTime=0,l.play().catch(s=>{console.error(`배경음악 재시작 오류: ${s.message}`)}))}),typeof AudioContext<"u")try{const s=new AudioContext;s.state==="suspended"&&s.resume()}catch(s){console.error(`오디오 컨텍스트 재개 오류: ${s.message}`)}console.log("배경음악 재생 시도"),setTimeout(()=>{const s=l==null?void 0:l.play();s!==void 0&&s.catch(m=>{console.error(`배경음악 재생 오류: ${m.message}`),m.name==="NotAllowedError"?console.log("자동 재생 정책으로 인해 나중에 재생됩니다."):(console.log("배경음악 객체 재생성 시도"),setTimeout(()=>{l=new Audio(r),l.loop=!0,l.volume=.5,setTimeout(()=>{l==null||l.play().catch(v=>console.error(`재시도 실패: ${v.message}`))},1e3)},500))})},100)};console.log(`배경음악 객체 생성 - 경로: ${E[x.BG_1]}`);let o=E[x.BG_1];const i=new Audio;i.onerror=()=>{console.error(`원래 경로(${o})로 로드 실패, 대체 경로 시도`);const r=["/sound/bg-1.mp3","./sound/bg-1.mp3","sound/bg-1.mp3","../sound/bg-1.mp3",window.location.origin+"/sound/bg-1.mp3"];for(const s of r){console.log(`대체 경로 시도: ${s}`);const m=new Audio(s);m.onerror=()=>console.log(`${s} 로드 실패`),m.oncanplaythrough=()=>{console.log(`${s} 로드 성공, 이 경로로 설정`),o=s,n(s)}}},i.oncanplaythrough=()=>{console.log(`원래 경로(${o}) 로드 성공`),n(o)},i.src=o}catch(n){console.error(`배경음악 재생 중 오류 발생: ${n.message}`,n)}},Te=()=>{l&&(l.pause(),l.currentTime=0)},Qe=()=>{const t=_();if(t.bgSound=!t.bgSound,t.bgSound){if(l=new Audio(E[x.BG_1]),l.loop=!0,l.volume=.5,l.addEventListener("ended",()=>{console.log("배경음악 재시작"),l&&(l.currentTime=0,l.play().catch(n=>{console.error("배경음악 재시작 오류:",n)}))}),typeof AudioContext<"u")try{const n=new AudioContext;n.state==="suspended"&&n.resume()}catch(n){console.error("오디오 컨텍스트 재개 오류:",n)}setTimeout(()=>{l&&(console.log("배경음악 재생 시도"),l.play().catch(n=>{console.error("배경음악 토글 재생 오류:",n),l=new Audio(E[x.BG_1]),l.loop=!0,l.volume=.5,setTimeout(()=>{l==null||l.play().catch(o=>{console.error("재시도 실패:",o)})},500)}))},100)}else Te();return le(t),t.bgSound},Ie=()=>{const t=_();return t.effectSound=!t.effectSound,le(t),t.effectSound};function q(){const[t,n]=d.useState(!0),[o,i]=d.useState(!0);d.useEffect(()=>{const m=_();n(m.bgSound),i(m.effectSound)},[]);const r=()=>{const m=Qe();n(m)},s=()=>{const m=Ie();i(m)};return e.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/90 shadow-lg hover:bg-white transition-colors transform hover:scale-110","aria-label":t?"배경음악 끄기":"배경음악 켜기",title:t?"배경음악 끄기":"배경음악 켜기",children:t?e.jsx(Re,{className:"w-6 h-6 text-kid-purple"}):e.jsx(Oe,{className:"w-6 h-6 text-kid-text/50"})}),e.jsx("button",{onClick:s,className:"p-2 rounded-full bg-white/90 shadow-lg hover:bg-white transition-colors transform hover:scale-110","aria-label":o?"효과음 끄기":"효과음 켜기",title:o?"효과음 끄기":"효과음 켜기",children:o?e.jsx(Me,{className:"w-6 h-6 text-kid-teal"}):e.jsx(_e,{className:"w-6 h-6 text-kid-text/50"})})]})}function Be({onSelectLevel:t,onViewHistory:n}){return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-kid-bg confetti-bg font-kid relative overflow-hidden",children:[e.jsx(q,{}),e.jsx("div",{className:"absolute -left-8 bottom-0 w-1/4 h-auto z-0 opacity-85",children:e.jsx("img",{src:"./image/hero/hero-1.png",alt:"캐릭터 1",className:"object-contain"})}),e.jsx("div",{className:"absolute -right-8 bottom-0 w-1/4 h-auto z-0 opacity-85",children:e.jsx("img",{src:"./image/hero/hero-3.png",alt:"캐릭터 3",className:"object-contain"})}),e.jsx("div",{className:"absolute top-0 right-1/4 w-1/5 h-auto z-0 opacity-70",children:e.jsx("img",{src:"./image/hero/hero-2.png",alt:"캐릭터 2",className:"object-contain"})}),e.jsxs("div",{className:"w-full max-w-[1280px] mx-auto px-4 relative z-10",children:[e.jsxs("div",{className:"text-center mb-1 animate-float",children:[e.jsx("div",{className:"w-24 h-24 bg-kid-yellow rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("img",{src:"./image/title/rin-circle.png",alt:"사자성어 퀴즈",className:"w-24 h-24 text-kid-text"})}),e.jsx("p",{className:"text-2xl text-kid-text",children:"사자성어 퀴즈"})]}),e.jsxs("div",{className:"grid gap-6 w-full max-w-md mx-auto",children:[e.jsxs("button",{onClick:()=>t(1),className:"kid-card p-6 bg-white hover:bg-kid-yellow/10 flex items-center space-x-4 transform transition-all duration-300 hover:scale-105 hover:shadow-xl border-4 border-kid-yellow relative overflow-hidden",children:[e.jsx("span",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-kid-yellow/20 via-transparent to-transparent"}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-kid-red flex items-center justify-center shadow-md animate-pulse",children:e.jsx(K,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-kid-red mb-1",children:"Level 1"}),e.jsx("p",{className:"text-kid-text",children:"쉬움 · 객관식 ·5문"})]})]}),e.jsxs("button",{onClick:()=>t(2),className:"kid-card p-6 bg-white hover:bg-kid-teal/10 flex items-center space-x-4 transform transition-all duration-300 hover:scale-105 hover:shadow-xl border-4 border-kid-teal relative overflow-hidden",children:[e.jsx("span",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-kid-teal/20 via-transparent to-transparent"}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-kid-teal flex items-center justify-center shadow-md animate-pulse",children:e.jsx(re,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-kid-teal mb-1",children:"Level 2"}),e.jsx("p",{className:"text-kid-text",children:"보통 · 객관식 · 10문"})]})]}),e.jsxs("button",{onClick:()=>t(3),className:"kid-card p-6 bg-white hover:bg-kid-purple/10 flex items-center space-x-4 transform transition-all duration-300 hover:scale-105 hover:shadow-xl border-4 border-kid-purple relative overflow-hidden",children:[e.jsx("span",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-kid-purple/20 via-transparent to-transparent"}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-kid-purple flex items-center justify-center shadow-md animate-pulse",children:e.jsx(Se,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-kid-purple mb-1",children:"Level 3"}),e.jsx("p",{className:"text-kid-text",children:"어려움 · 주관식 · 5문"})]})]}),e.jsxs("button",{onClick:n,className:"kid-button mt-6 p-4 bg-kid-green text-white rounded-full flex items-center justify-center gap-2 mx-auto w-48 transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx(Ce,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg",children:"기록 보기"})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx("p",{className:"text-kid-text/70 text-sm",children:"RinPapa 초등 사자성어 퀴즈"})})]})]})}const B=[{id:1,idiom:"가렴주구",meaning:"세금을 가혹하게 거두어들이고 백성을 심하게 착취함"},{id:2,idiom:"각주구검",meaning:"배 위에서 칼을 찾는다는 뜻으로, 때를 놓쳐 어떤 일의 기회를 놓치는 것"},{id:3,idiom:"감언이설",meaning:"남의 비위에 맞게 꾸민 달콤한 말과 교묘한 논설"},{id:4,idiom:"갑론을박",meaning:"서로 자기 주장을 내세우며 상대편의 주장을 반박함"},{id:5,idiom:"개과천선",meaning:"지난날의 잘못을 뉘우치고 착하게 됨"},{id:6,idiom:"견강부회",meaning:"이치에 맞지 않는 말을 억지로 끌어다 붙임"},{id:7,idiom:"결초보은",meaning:"죽은 뒤에라도 은혜를 잊지 않고 갚음"},{id:8,idiom:"고진감래",meaning:"쓴 것이 다하면 단 것이 온다는 뜻으로, 고생 끝에 즐거움이 옴"},{id:9,idiom:"과유불급",meaning:"정도를 지나침은 미치지 못함과 같다는 뜻으로, 무엇이든 정도를 넘으면 좋지 않음"},{id:10,idiom:"구우일모",meaning:"소가 털을 한 올 빠뜨리는 것과 같이 아주 적은 가능성"},{id:11,idiom:"권선징악",meaning:"착한 일을 권장하고 악한 일을 징계함"},{id:12,idiom:"금과옥조",meaning:"금이나 옥으로 새긴 조항이라는 뜻으로, 반드시 지켜야 할 규칙이나 법칙"},{id:13,idiom:"금시초문",meaning:"이제 처음 듣는 말이라는 뜻으로, 처음 듣는 이야기"},{id:14,idiom:"기고만장",meaning:"자신이 대단한 사람인 양 뽐내고 우쭐댐"},{id:15,idiom:"다다익선",meaning:"많으면 많을수록 더욱 좋다"},{id:16,idiom:"동문서답",meaning:"동쪽을 물었는데 서쪽을 대답한다는 뜻으로, 묻는 말에 대하여 전혀 엉뚱한 대답을 함"},{id:17,idiom:"막역지우",meaning:"허물이 없는 친구라는 뜻으로, 서로 거스름이 없는 아주 친한 벗"},{id:18,idiom:"맹모삼천",meaning:"맹자의 어머니가 자식 교육을 위해 세 번 이사했다는 고사에서, 자녀 교육에 온 정성을 기울이는 어머니의 지극한 사랑"},{id:19,idiom:"백년해로",meaning:"부부가 백 년 동안 해로하며 살라는 축원"},{id:20,idiom:"부전자전",meaning:"아버지의 재주가 아들에게 이어진다는 뜻으로, 자식은 부모를 닮는다는 말"},{id:21,idiom:"사필귀정",meaning:"모든 일은 반드시 바른 길로 돌아감"},{id:22,idiom:"삼고초려",meaning:"세 번 찾아가고 다섯 번 부른다는 뜻으로, 어떤 인재를 맞아들이기 위해 정성을 다하여 여러 번 간청함"},{id:23,idiom:"새옹지마",meaning:"인생의 길흉화복은 변화가 많아 예측하기 어렵다는 말"},{id:24,idiom:"설상가상",meaning:"눈 위에 서리가 덮인다는 뜻으로, 난처한 일이나 불행한 일이 잇따라 일어남"},{id:25,idiom:"소탐대실",meaning:"작은 것을 탐하다가 큰 것을 잃음"},{id:26,idiom:"수구초심",meaning:"처음 가졌던 마음을 다시 찾는다는 뜻으로, 본래의 순수한 마음으로 돌아감"},{id:27,idiom:"십시일반",meaning:"열 사람이 한 술씩 보태면 한 사람 먹을 분량이 된다는 뜻으로, 여러 사람이 힘을 합하면 어려운 일도 해결할 수 있다는 말"},{id:28,idiom:"아전인수",meaning:"자기 생각대로 해석하고 판단함"},{id:29,idiom:"어부지리",meaning:"두 사람이 다투는 사이에 제삼자가 이익을 얻음"},{id:30,idiom:"역지사지",meaning:"처지를 바꾸어서 생각해 본다는 뜻으로, 상대방의 입장에서 생각해 봄"},{id:31,idiom:"오비이락",meaning:"까마귀 날자 배 떨어진다는 뜻으로, 아무 관계없는 두 일이 우연히 같은 때에 일어남"},{id:32,idiom:"온고지신",meaning:"옛것을 익히고 그것을 미루어서 새것을 앎"},{id:33,idiom:"우이독경",meaning:"소에게 경을 읽어 준다는 뜻으로, 알아듣지 못하는 사람에게 아무리 가르쳐도 소용이 없음"},{id:34,idiom:"유비무환",meaning:"미리 준비하면 걱정이 없음"},{id:35,idiom:"일거양득",meaning:"한 가지 일을 하고 두 가지 이익을 얻음"},{id:36,idiom:"일석이조",meaning:"한 가지 일을 하여 두 가지 이득을 봄"},{id:37,idiom:"일장춘몽",meaning:"한바탕 봄 꿈이라는 뜻으로, 인생의 부귀영화는 한바탕 꿈과 같이 덧없다는 말"},{id:38,idiom:"자업자득",meaning:"자기가 지은 일의 결과는 자기가 받는다는 뜻으로, 자기가 한 행동의 결과는 자기가 책임져야 함"},{id:39,idiom:"적반하장",meaning:"도둑이 도리어 매를 든다는 뜻으로, 잘못한 사람이 도리어 잘한 사람을 나무람"},{id:40,idiom:"고육지계",meaning:"제 몸을 상하게 하면서까지 꾸며내는 방책이라는 뜻으로, 일반적으로 어려운 상태에서 벗어나기 위한 수단으로 어쩔 수 없이 하는 계책"},{id:41,idiom:"낭중지추",meaning:"주머니 속의 송곳처럼 재능이 있는 사람은 숨어 있어도 저절로 드러남"},{id:42,idiom:"동고동락",meaning:"괴로움과 즐거움을 함께 함"},{id:43,idiom:"마이동풍",meaning:"남의 말을 귀담아듣지 않고 흘려버림"},{id:44,idiom:"발본색원",meaning:"나쁜 일의 근본 원인을 찾아 완전히 없애버림"},{id:45,idiom:"사면초가",meaning:"사방이 적으로 둘러싸여 꼼짝할 수 없는 어려운 상황"},{id:46,idiom:"솔선수범",meaning:"남보다 앞장서서 모범을 보임"},{id:47,idiom:"언중유골",meaning:"평범한 말 속에 깊은 뜻이 들어 있음"},{id:48,idiom:"유구무언",meaning:"입이 있으나 말을 못 함. 도저히 변명할 말이 없음을 이르는 말"},{id:49,idiom:"이심전심",meaning:"말이나 글이 아닌 마음과 마음으로 서로 뜻이 통함"},{id:50,idiom:"조변석개",meaning:"아침에 한 말을 저녁에 바꾼다는 뜻으로, 줏대 없이 변덕스러움"},{id:51,idiom:"좌충우돌",meaning:"이리저리 마구 부딪치며 나아감"},{id:52,idiom:"죽마고우",meaning:"어릴 때부터 함께 자란 친한 친구"},{id:53,idiom:"천고마비",meaning:"하늘은 높고 말은 살찐다는 뜻으로, 가을의 쾌청한 날씨"},{id:54,idiom:"가화만사",meaning:"집안이 화목하면 모든 일이 잘 이루어짐"},{id:55,idiom:"거자필반",meaning:"모든 만남에는 헤어짐이 있고, 헤어짐 이후에는 또 만남이 있다는 뜻"},{id:56,idiom:"격세지감",meaning:"세상이 몰라볼 정도로 변하여 아주 다른 세상처럼 느껴짐"},{id:57,idiom:"골육상잔",meaning:"가족이나 친척끼리 서로 싸움"},{id:58,idiom:"교우이신",meaning:"친구를 사귈 때는 신의를 지켜야 함"},{id:59,idiom:"구사일생",meaning:"죽을 고비를 여러 번 넘기고 살아남음"},{id:60,idiom:"군계일학",meaning:"닭 무리 속의 한 마리 학처럼 뛰어남"},{id:61,idiom:"근묵자흑",meaning:"검은 것을 가까이하다 보면 자신도 검게 물든다는 뜻으로 나쁜 사람과 가까이하면 자신도 나쁜 행동을 하게 된다."},{id:62,idiom:"남녀노소",meaning:"남자, 여자, 늙은이, 젊은이라는 뜻으로 모든 사람을 이르는 말"},{id:63,idiom:"내유외강",meaning:"겉으로는 강하게 보이지만 속은 부드럽다"},{id:64,idiom:"노심초사",meaning:"몹시 마음을 쓰며 걱정하고 애태움"},{id:65,idiom:"다재다능",meaning:"재주가 많고 능력이 뛰어남"},{id:66,idiom:"대기만성",meaning:"큰 인물이 되려면 많은 시간과 노력이 필요하다는 뜻"},{id:67,idiom:"동상이몽",meaning:"같은 잠자리에서 다른 꿈을 꿈으로 겉으로는 같으나 속으로는 다른 생각을 하는 것"},{id:68,idiom:"반신반의",meaning:"반은 믿고 반은 의심함"},{id:69,idiom:"백발백중",meaning:"쏘는 대로 모두 맞힘"},{id:70,idiom:"불로장생",meaning:"늙지 않고 오래 삶"},{id:71,idiom:"사통팔달",meaning:"길이 여러 방향으로 통하여 교통이 편리함"},{id:72,idiom:"산전수전",meaning:"세상의 온갖 어려움과 고생을 다 겪음"},{id:73,idiom:"낭패지경",meaning:"일이 잘못되어 아주 망그러진 지경"},{id:74,idiom:"함구무언",meaning:"입을 다물고 아무 말이 없음"},{id:75,idiom:"다사다난",meaning:"일이 많고 어려움도 많음"},{id:76,idiom:"당랑거철",meaning:"제 힘을 헤아리지 못하고 강한 상대에게 함부로 덤빔"},{id:77,idiom:"대동소이",meaning:"대체로 같고 조금 다르다"},{id:78,idiom:"무릉도원",meaning:"속세를 떠난 이상향"},{id:79,idiom:"반포지효",meaning:"까마귀 새끼가 자라서 늙은 어미에게 먹이를 물어다 주는 효성"},{id:80,idiom:"사상누각",meaning:"모래 위에 지은 누각처럼 기초가 약하여 오래가지 못할 일"},{id:81,idiom:"상전벽해",meaning:"뽕밭이 푸른 바다가 된다는 뜻으로, 세상일의 변화가 심함"},{id:82,idiom:"선견지명",meaning:"앞일을 미리 내다보는 밝은 지혜"},{id:83,idiom:"수불석권",meaning:"손에서 책을 놓지 않고 늘 책을 읽음"},{id:84,idiom:"시기상조",meaning:"아직 때가 이르다"},{id:85,idiom:"신언서판",meaning:"사람을 평가하는 네 가지 기준(외모, 말씨, 글씨, 판단력)"},{id:86,idiom:"심사숙고",meaning:"마음을 가다듬고 깊이 생각함"},{id:87,idiom:"십벌지목",meaning:"열 번 찍어 넘어가지 않는 나무는 없다는 뜻으로, 끈기 있게 노력하면 결국 이루어짐"},{id:88,idiom:"야단법석",meaning:"떠들썩하고 부산스러움"},{id:89,idiom:"어불성설",meaning:"말이 이치에 맞지 않음"},{id:90,idiom:"와신상담",meaning:"원수를 갚기 위해 고난을 참고 견딤"},{id:91,idiom:"외유내강",meaning:"겉으로는 부드러우나 속은 굳센사람"},{id:92,idiom:"용두사미",meaning:"시작은 거창하나 끝이 흐지부지함"},{id:93,idiom:"우공이산",meaning:"어리석은 노인이 산을 옮긴다는 뜻으로, 끈기 있게 노력하면 불가능한 일도 이룰 수 있음"},{id:94,idiom:"유명무실",meaning:"이름만 있고 실질적인 내용은 없음"},{id:95,idiom:"읍참마속",meaning:"대의를 위해 아끼는 사람을 버림"},{id:96,idiom:"이이제이",meaning:"오랑캐로 오랑캐를 제압한다는 뜻으로, 적을 이용하여 다른 적을 제압함"},{id:97,idiom:"일망타진",meaning:"한 번 그물을 쳐서 모두 잡음"},{id:98,idiom:"일벌백계",meaning:"한 사람을 벌하여 백 사람을 경계시킴"},{id:99,idiom:"전전긍긍",meaning:"몹시 두려워하며 벌벌 떪"},{id:100,idiom:"좌우지간",meaning:"정도나 조건 등이 어떻게 되어 있든 지간에"},{id:101,idiom:"진퇴양난",meaning:"나아갈 수도 물러설 수도 없는 어려운 처지"},{id:102,idiom:"천재일우",meaning:"좀처럼 얻기 어려운 좋은 기회"}];function F(t){const n=[...t];for(let o=n.length-1;o>0;o--){const i=Math.floor(Math.random()*(o+1));[n[o],n[i]]=[n[i],n[o]]}return n}function W(t,n,o){const i=n.filter(m=>m!==t),s=F(i).slice(0,o-1);return F([t,...s])}function ne(t){const n=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],o=t.charCodeAt(0);if(o>=44032&&o<=55203){const i=Math.floor((o-44032)/588);return n[i]}return t}function ze({level:t,onComplete:n,onBack:o}){const[i,r]=d.useState({currentQuestion:0,score:0,answers:[],completed:!1}),[s,m]=d.useState([]),[v,p]=d.useState([]),[g,k]=d.useState(null),[a,h]=d.useState(null),[D,f]=d.useState(0),[O,b]=d.useState(""),[R,L]=d.useState(""),[Z,T]=d.useState(0),[Q,V]=d.useState(0),A=t===1||t===3?5:10,I=t===1?2:t===2?4:0,M=100/A;d.useEffect(()=>{V(0)},[t]),d.useEffect(()=>{const c=F(B).slice(0,A).map(y=>({id:String(y.id),word:y.idiom,meaning:y.meaning}));if(m(c),t<3){const y=B.map(S=>S.idiom),j=W(c[0].word,y,I);p(j)}f(0),b("")},[t]),d.useEffect(()=>{if(t!==3||!s.length||g)return;const u=s[i.currentQuestion].word,N=setInterval(()=>{f(c=>{if(c<u.length*2){if(c<8)if(c<u.length){const y=[...u].map((j,S)=>S<c?ne(j):"　").join("");b("힌트(초성) : "+y),T(j=>Math.min(8,j+1))}else{const y=c-u.length,j=[...u].slice(0,y).join(""),S=[...u].slice(y).map(ne).join("");b("힌트(글자) : "+j+S),T(G=>Math.min(8,G+1))}return c+1}return c})},5e3);return()=>clearInterval(N)},[t,s,i.currentQuestion,g]),d.useEffect(()=>{f(0),T(0),t===3&&s.length>0&&b(""),L(""),k(null),h(null)},[i.currentQuestion,t,s]),d.useEffect(()=>{if(t<3&&s.length>0&&i.currentQuestion<s.length){const u=B.map(c=>c.idiom),N=W(s[i.currentQuestion].word,u,I);p(N)}},[i.currentQuestion,t,s,I]);const ce=async u=>{const N=s[i.currentQuestion],c=u===N.word;k(u),h(c),c?(C(x.CORRECT),V(S=>S+M)):C(x.WRONG,.5),await new Promise(S=>setTimeout(S,c?1e3:3e3));const y=c?i.score+M:i.score,j=[...i.answers,u];if(i.currentQuestion+1>=A)n(Math.round(c?Q+M:Q));else{const S=B.map(me=>me.idiom),G=W(s[i.currentQuestion+1].word,S,I);p(G),r({currentQuestion:i.currentQuestion+1,score:y,answers:j,completed:!1}),k(null),h(null)}},X=async u=>{const N=s[i.currentQuestion],c=u.trim()===N.word;k(u),h(c),c?C(x.CORRECT):C(x.WRONG,.5),c||b(`정답: ${N.word}`),await new Promise(j=>setTimeout(j,c?1e3:3e3)),c&&V(j=>j+M);const y=[...i.answers,u];i.currentQuestion+1>=A?n(Math.round(Q+(c?M:0))):(r({currentQuestion:i.currentQuestion+1,score:i.score+(c?M:0),answers:y,completed:!1}),k(null),h(null),L(""),T(0))};if(!s.length)return null;const $=s[i.currentQuestion];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-kid-bg/50 to-kid-bg py-8 font-kid relative overflow-hidden",children:[e.jsx(q,{}),e.jsx("div",{className:"w-full max-w-[1280px] mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"kid-card bg-white p-6 rounded-2xl border-4 border-kid-yellow shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:o,className:"kid-button p-3 bg-kid-red/10 text-kid-red rounded-full hover:bg-kid-red/20 transition-all","aria-label":"뒤로 가기",children:e.jsx(oe,{className:"w-6 h-6"})}),e.jsxs("h2",{className:"text-2xl font-bold text-kid-purple",children:["문제 ",i.currentQuestion+1," / ",A]})]}),e.jsx("div",{className:"bg-kid-purple/10 py-2 px-4 rounded-full",children:e.jsxs("span",{className:"text-lg font-semibold text-kid-purple",children:["점수: ",Math.round(Q)]})})]}),e.jsxs("div",{className:"mb-6",children:[t===1&&e.jsx("div",{className:"text-center my-4",children:e.jsx("p",{className:"text-xl text-kid-text font-bold mb-2 bg-kid-pink/10 py-2 px-4 rounded-xl inline-block",children:"다음 뜻을 가진 사자성어는 무엇일까요?"})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-kid-purple/10 to-kid-teal/10 rounded-xl border-2 border-kid-purple/20 shadow-inner",children:e.jsx("p",{className:"text-lg text-kid-text",children:$.meaning})}),t===3&&e.jsx("div",{className:"mt-4 mb-2",children:e.jsx("p",{className:"text-lg font-medium text-kid-teal p-3 bg-kid-teal/10 rounded-xl border-2 border-kid-teal/20 text-center",children:O||"5초마다 초성이 제공됩니다."})})]}),t<3?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:v.map((u,N)=>{let c="p-4 text-lg text-left rounded-xl border-3 transition-all duration-300 transform hover:scale-102 ";return g?u===$.word?c+="bg-kid-green/20 border-kid-green text-kid-text ":u===g&&u!==$.word?c+="bg-kid-red/20 border-kid-red text-kid-text ":c+="border-gray-200 opacity-50 ":c+="border-kid-yellow hover:border-kid-purple hover:bg-kid-purple/10 ",e.jsx("button",{onClick:()=>!g&&ce(u),className:c,disabled:!!g,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:u}),g&&u===$.word&&e.jsx("span",{className:"text-kid-green text-2xl",children:"✓"}),g&&u===g&&u!==$.word&&e.jsx("span",{className:"text-kid-red text-2xl",children:"✗"})]})},`${i.currentQuestion}-${N}`)})}):e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{type:"text",placeholder:"사자성어를 입력하세요",className:`w-full p-4 rounded-xl text-lg transition-all duration-300 outline-none ${a===null?"border-3 border-kid-yellow focus:border-kid-teal focus:ring-2 focus:ring-kid-teal/50 animate-pulse-border":a?"border-3 border-kid-green bg-kid-green/10":"border-3 border-kid-red bg-kid-red/10"}`,onKeyPress:u=>{u.key==="Enter"&&!g&&X(u.currentTarget.value)},disabled:!!g,id:"answer-input",value:R,onChange:u=>L(u.target.value),autoFocus:!0}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{className:"w-full kid-button bg-kid-purple hover:bg-kid-purple/90 text-white py-4 rounded-xl transition-all duration-300 text-lg font-medium transform hover:scale-102 hover:shadow-lg",onClick:()=>{g||X(R)},disabled:!!g,children:"확인하기"})})]})]})})]})}const de=document.createElement("style");de.textContent=`
  @keyframes pulse-border {
    0% { border-color: rgba(255, 209, 102, 0.7); }
    50% { border-color: rgba(255, 209, 102, 1); }
    100% { border-color: rgba(255, 209, 102, 0.7); }
  }
  
  .animate-pulse-border {
    animation: pulse-border 2s infinite;
  }
  
  .transform {
    transition: transform 0.3s ease;
  }
  
  .hover:scale-102:hover {
    transform: scale(1.02);
  }
`;document.head.appendChild(de);function Pe({score:t,reward:n,level:o,onRestart:i,onReplay:r,onBack:s,onViewHistory:m}){d.useEffect(()=>{He(t)},[t]);const v=()=>{const k=Math.round(t/100*5);return Array(5).fill(0).map((a,h)=>e.jsx(K,{className:`w-8 h-8 ${h<k?"text-kid-yellow fill-kid-yellow":"text-gray-300"}`},h))},p=["animate-bounce-slow delay-100","animate-bounce-slow delay-300","animate-bounce-slow delay-500","animate-bounce-slow delay-700","animate-bounce-slow delay-900"],g=()=>t>=90?"대단해요! 최고의 실력이네요!":t>=70?"정말 잘했어요! 멋진 실력이에요!":t>=50?"좋아요! 열심히 노력했네요!":"다음에는 더 잘할 수 있을 거예요!";return e.jsxs("div",{className:"min-h-screen bg-kid-bg confetti-bg flex items-center justify-center font-kid",children:[e.jsx(q,{}),e.jsxs("div",{className:"bg-white kid-card p-8 max-w-md w-full mx-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-kid-yellow/20 rounded-full"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-kid-pink/20 rounded-full"}),e.jsx("div",{className:"w-24 h-24 bg-kid-yellow rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg animate-wiggle",children:e.jsx(U,{className:"w-14 h-14 text-white"})}),e.jsx("h2",{className:"text-4xl font-bold text-center text-kid-purple mb-4",children:"퀴즈 완료!"}),e.jsx("p",{className:"text-2xl text-center text-kid-text mb-3",children:g()}),e.jsxs("div",{className:"bg-gradient-to-r from-kid-pink/20 to-kid-purple/20 rounded-xl p-4 my-6",children:[e.jsx("p",{className:"text-xl text-center text-kid-text mb-2",children:"내 점수는"}),e.jsxs("p",{className:"text-5xl font-bold text-center text-kid-purple mb-2 flex items-center justify-center gap-2",children:[t,e.jsx("span",{className:"text-2xl",children:"점"})]})]}),n>0&&e.jsxs("div",{className:"bg-gradient-to-r from-kid-yellow/20 to-kid-teal/20 rounded-xl p-4 my-6 cursor-pointer hover:from-kid-yellow/30 hover:to-kid-teal/30 transition-colors",onClick:m,children:[e.jsx("p",{className:"text-xl text-center text-kid-text mb-2",children:"내 용돈은"}),e.jsxs("p",{className:"text-4xl font-bold text-center text-kid-teal mb-2 flex items-center justify-center gap-2",children:[e.jsx(z,{className:"w-8 h-8 text-kid-yellow fill-kid-yellow"}),n,e.jsx("span",{className:"text-2xl",children:"원"})]}),e.jsx("p",{className:"text-sm text-center text-kid-text/70 mt-1",children:"기록 보기에서 용돈 획득"})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-8",children:v().map((k,a)=>e.jsx("div",{className:p[a],children:k},a))}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:()=>r(o),className:"kid-button py-3 bg-kid-green text-white rounded-full hover:bg-kid-green/90 flex items-center justify-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5"}),e.jsx("span",{children:"다시 시작하기"})]}),e.jsxs("button",{onClick:s,className:"kid-button py-3 bg-kid-red/10 text-kid-red rounded-full hover:bg-kid-red/20 flex items-center justify-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),e.jsx("span",{children:"이전으로 돌아가기"})]})]}),e.jsx("div",{className:"absolute top-5 left-5",children:e.jsx(ee,{className:"w-6 h-6 text-kid-yellow animate-pulse"})}),e.jsx("div",{className:"absolute bottom-5 right-8",children:e.jsx(ee,{className:"w-6 h-6 text-kid-teal animate-pulse"})})]})]})}function qe({onBack:t}){const[n,o]=d.useState([]),[i,r]=d.useState(null);d.useEffect(()=>{s()},[]);const s=()=>{const a=localStorage.getItem("quizHistory");a&&o(JSON.parse(a))},m=a=>new Date(a).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=a=>{switch(a){case 1:return"쉬움 (2지선다)";case 2:return"보통 (4지선다)";case 3:return"어려움 (주관식)";default:return""}},p=a=>{switch(a){case 1:return"bg-kid-red text-white";case 2:return"bg-kid-teal text-white";case 3:return"bg-kid-purple text-white";default:return"bg-gray-200"}},g=a=>{switch(a){case 1:return e.jsx(K,{className:"w-4 h-4"});case 2:return e.jsx(re,{className:"w-4 h-4"});case 3:return e.jsx(je,{className:"w-4 h-4"});default:return null}},k=a=>{r(a),C(x.COLLECT_COIN),setTimeout(()=>{const h=[...n];h[a]={...h[a],rewardClaimed:!0},o(h),localStorage.setItem("quizHistory",JSON.stringify(h)),setTimeout(()=>{r(null)},1e3)},500)};return e.jsxs("div",{className:"min-h-screen bg-kid-bg confetti-bg py-8 font-kid",children:[e.jsx(q,{}),e.jsx("div",{className:"w-full max-w-[1280px] mx-auto px-4",children:e.jsxs("div",{className:"bg-white kid-card p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-kid-yellow/20 transition-colors kid-button",children:e.jsx(oe,{className:"w-6 h-6 text-kid-text"})}),e.jsx("h2",{className:"text-3xl font-bold text-kid-purple",children:"퀴즈 기록"})]}),n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-kid-yellow/30 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(U,{className:"w-10 h-10 text-kid-yellow"})}),e.jsx("p",{className:"text-lg text-kid-text",children:"아직 퀴즈 기록이 없습니다."}),e.jsx("p",{className:"text-kid-text/70 mt-2",children:"첫 번째 퀴즈를 풀어보세요!"})]}):e.jsx("div",{className:"space-y-4",children:n.map((a,h)=>e.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-kid-pink/30 hover:border-kid-pink transition-colors relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -top-4 w-16 h-16 rounded-full bg-kid-yellow/10 z-0"}),e.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${p(a.level)} flex items-center gap-1`,children:[g(a.level),e.jsxs("span",{children:["레벨 ",a.level]})]}),e.jsx("span",{className:"text-kid-text/60 text-sm",children:v(a.level)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-kid-text/80",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:m(a.date)})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("div",{className:"bg-kid-purple/10 px-4 py-2 rounded-full",children:e.jsxs("div",{className:"text-xl font-bold text-kid-purple flex items-center gap-1",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsxs("span",{children:[a.score,"점"]})]})}),a.reward?e.jsx("div",{className:`px-4 py-2 rounded-full flex items-center gap-1 ${a.rewardClaimed?"bg-kid-teal/10 text-kid-teal":"bg-kid-yellow/10 text-kid-text"}`,children:a.rewardClaimed?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 text-kid-yellow fill-kid-yellow"}),e.jsxs("span",{children:[a.reward,"원 획득완료"]})]}):e.jsxs("button",{onClick:()=>k(h),disabled:i!==null,className:"flex items-center gap-1 font-bold text-kid-yellow hover:text-kid-yellow/80 transition-colors focus:outline-none",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsxs("span",{children:[a.reward,"원 획득하기"]})]})}):null]})]})]},a.id))}),e.jsxs("div",{className:"mt-8 p-4 bg-kid-teal/10 rounded-xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-kid-teal mb-2 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"최근 기록"})]}),e.jsx("p",{className:"text-kid-text",children:n.length>0?`지금까지 총 ${n.length}번의 퀴즈를 풀었어요!`:"아직 기록이 없어요. 첫 번째 퀴즈를 시작해 보세요!"}),n.length>0&&e.jsxs("p",{className:"text-kid-yellow flex items-center gap-1 mt-2",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsxs("span",{children:["총 ",n.reduce((a,h)=>a+(h.rewardClaimed&&h.reward||0),0),"원의 용돈을 획득했어요!"]})]})]})]})})]})}function De(){const[t,n]=d.useState(null),[o,i]=d.useState(null),[r,s]=d.useState(!1),[m,v]=d.useState(!0);d.useEffect(()=>{const f=setTimeout(()=>{v(!1)},1e3);return()=>{clearTimeout(f)}},[]);const p=d.useCallback(()=>{n(null),i(null),s(!1)},[]);d.useEffect(()=>{const f=()=>{t!==null||o!==null||r?p():window.history.pushState(null,"",window.location.pathname)};return window.addEventListener("popstate",f),window.history.pushState(null,"",window.location.pathname),()=>{window.removeEventListener("popstate",f)}},[t,o,r,p]);const g=f=>{n(f),i(null)},k=f=>{const O=t===1||t===3?5:10;let b=0;switch(t){case 1:case 2:b=Math.round(f/(100/O))*50;break;case 3:b=Math.round(f/10)*100;break}const R={id:crypto.randomUUID(),level:t,score:f,date:new Date().toISOString(),reward:b,rewardClaimed:!1},L=localStorage.getItem("quizHistory"),Z=L?JSON.parse(L):[];localStorage.setItem("quizHistory",JSON.stringify([R,...Z])),i(f)},a=()=>{n(null),i(null),s(!1)},h=f=>{n(f),i(null)},D=()=>{s(!0)};if(m)return e.jsx("div",{className:"min-h-screen bg-kid-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center animate-bounce",children:[e.jsx("img",{src:"./image/title/rin-circle.png",alt:"사자성어 퀴즈",className:"mx-auto w-64 h-auto shadow-lg rounded-xl",style:{animation:"fadeIn 0.5s ease-in"}}),e.jsx("style",{jsx:!0,children:`
            @keyframes fadeIn {
              from { opacity: 0; }
              to { opacity: 1; }
            }
          `})]})});if(r)return e.jsx(qe,{onBack:p});if(o!==null){const f=localStorage.getItem("quizHistory"),O=f?JSON.parse(f):[],b=O.length>0?O[0]:null,R=(b==null?void 0:b.reward)||0;return e.jsx(Pe,{score:o,reward:R,level:t,onRestart:a,onReplay:h,onBack:p,onViewHistory:D})}return t===null?e.jsx(Be,{onSelectLevel:g,onViewHistory:D}):e.jsx(ze,{level:t,onComplete:k,onBack:p})}console.log("앱 시작: 사운드 초기화 중...");try{$e(),console.log("사운드 사전 로드 완료")}catch(t){console.error("사운드 사전 로드 중 오류 발생:",t)}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM 로드 완료: 배경음악 재생 준비"),setTimeout(()=>{try{console.log("배경음악 초기 재생 시도"),te()}catch(n){console.error("배경음악 초기 재생 실패:",n)}const t=()=>{console.log("사용자 상호작용 감지: 배경음악 재생 재시도");try{te()}catch(n){console.error("사용자 상호작용 후 배경음악 재생 실패:",n)}document.removeEventListener("click",t),document.removeEventListener("touchstart",t),document.removeEventListener("keydown",t)};document.addEventListener("click",t),document.addEventListener("touchstart",t),document.addEventListener("keydown",t)},1e3)});J.createRoot(document.getElementById("root")).render(e.jsx(xe.StrictMode,{children:e.jsx(De,{})}));
